<h2>Uppgifter</h2>

<!-- 🔎 Filtrering på status -->
<nav class="filters">
  <button (click)="setStatusFilter('all')">Alla</button>
  <button (click)="setStatusFilter('active')">Aktiva</button>
  <button (click)="setStatusFilter('completed')">Klara</button>
</nav>

<!-- 🔽 Sortering -->
<h3>Sortering</h3>
<nav class="sorters">
  <button (click)="sortBy.set('title')">Titel</button>
  <button (click)="sortBy.set('priority')">Prioritet</button>
</nav>

<!-- 🗂️ Lista på uppgifter -->
<ul>
  <li *ngFor="let task of sortedAndFilteredTasks()">
    <div>
      <strong>{{ task.title }}</strong>
      <small>📅 {{ task.deadline || 'Ingen deadline' }}</small>
    </div>

    <small>Status: {{ task.status }}</small>

    <small>Prioritet:
      <span [ngSwitch]="task.priority">
        <span *ngSwitchCase="'high'">🔴</span>
        <span *ngSwitchCase="'medium'">🟡</span>
        <span *ngSwitchCase="'low'">🟢</span>
      </span>
    </small>

    <button (click)="deleteTask(task.id)">🗑️</button>
  </li>
</ul>

<!-- 📤 Exportera -->
<app-export-tasks [tasks]="tasks()"></app-export-tasks>
